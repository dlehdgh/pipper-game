function GameInit(){GameStatus="GAME_BASIC",$("#timer").val("00:00"),$("#tiles").val(16),$(".profile").removeClass("active"),$(".abandon, .message, #history").empty(),new MsgBox("게임시작").fadeTo(),soundTo.play("start.wav",!1,()=>{(new Map).create(),(new Timer).clear(),(new Timer).reset(),pipper={priority:tile.map((e,r)=>1==e[0]?r:void 0).filter(e=>e>=0).mix()[0],last:-1,prev:new Array,input:new Array},$(".profile").eq(pipper.priority).addClass("active"),new MsgBox(`${person[pipper.priority]}님이 선입니다.`).fadeSpeak(()=>{3==pipper.priority?$("#tile .message").text(`${person[pipper.priority]}님의 차례입니다.`):(new Ai).abandon()})})}let GameStatus="GAME_READY";const person=new Array("Com 1","Com 2","Com 3","User");let tile,score,pipper;const xTile=e=>String(e).split(16).join("X");Array.prototype.value=function(){return this.map(e=>e.value)},Array.prototype.xlength=function(){return this.filter(e=>16==e).length},Array.prototype.fillmap=function(e,r){return this.map((t,n)=>t==e&&r<n+1?n+1:void 0).filter(e=>e)},$(document).ready(()=>{(new Map).create(),$(".history-group").draggable({containment:"body"}),$("#start").on("click",GameInit),$("#abandon").on("click",()=>(new User).abandon()),$("#cancel").on("click",()=>(new User).cancel()),$("#pass").on("click",()=>(new User).pass()),$(document).on("click","#board .btn-tile",function(){(new User).input(this)})});