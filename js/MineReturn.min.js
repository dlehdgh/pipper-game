class HasTile{constructor(e,t){this.tile=new Array,this.prev=e,this.prev.value=t}init(){0==this.prev.type&&"GAME_BASIC"==GameStatus?this.mine():"GAME_MINE"==GameStatus?this.return():new Next("GAME_BASIC").play()}mine(){$.each(tile,(e,t)=>{let i=new Tile(t).count().map((e,t)=>2==e&&this.prev.value==t+1?t+1:void 0).filter(e=>e);if(e!=pipper.priority&&i.length>0){if(3!=e)return $.each(t,(e,t)=>{t==i[0]&&this.tile.push({index:e,value:t})}),new Next("GAME_MINE").update(this.tile,e),!1;if(1==confirm(`${person[e]}님에게 ${xTile(i[0])}마인이 있습니다.\n${xTile(i[0])}마인을 버리시겠습니까?`))return $.each(t,(e,t)=>{t==i[0]&&(this.tile.push({index:e,value:t}),$("#board .btn-tile").eq(e).attr("disabled",!0))}),new Next("GAME_MINE").update(this.tile,e),!1}}),"GAME_BASIC"==GameStatus&&new Next("GAME_BASIC").play()}return(){$.each(tile,(e,t)=>{let i=new Tile(t).count().map((e,t)=>1==e&&this.prev.value==t+1?t+1:void 0).filter(e=>e);if(i.length>0){if(3!=e)return $.each(t,(e,t)=>{t==i[0]&&this.tile.push({index:e,value:t})}),new Next("GAME_RETURN").update(this.tile,e),!1;if(1==confirm(`${person[e]}님에게 ${xTile(i[0])}리턴이 있습니다.\n${xTile(i[0])}리턴을 버리시겠습니까?`))return $.each(t,(e,t)=>{t==i[0]&&(this.tile.push({index:e,value:t}),$("#board .btn-tile").eq(e).attr("disabled",!0))}),new Next("GAME_RETURN").update(this.tile,e),!1}}),"GAME_MINE"==GameStatus&&new Next("GAME_BASIC").play()}}